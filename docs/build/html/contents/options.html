<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Halvade Options &mdash; halvade 1.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="halvade 1.1.0 documentation" href="../index.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">halvade 1.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="halvade-options">
<h1>Halvade Options<a class="headerlink" href="#halvade-options" title="Permalink to this headline">¶</a></h1>
<p>Any directory given in the command line option needs to be accessible by all nodes. This can be either on HDFS, GPFS, Amazon S3 or any other distributed filesystem, additionally when using only 1 node this can also be local scratch. If no prefix is used, HDFS will be used by default. However, the default file system can be changed with the <code class="docutils literal"><span class="pre">fs.defaultFS</span></code> configuration of Hadoop.  When this is changed the directories can simply be given without any prefix, else a prefix <code class="docutils literal"><span class="pre">file:///</span></code> needs to be given for local scratch and mounted GPFS directories. For data stored on S3 when using the Amazon EMR service, the directories need to contain the bucket name as a prefix, e.g. <code class="docutils literal"><span class="pre">S4://bucketname/</span></code>.
A script <code class="docutils literal"><span class="pre">runHalvade.py</span></code> is provided to gather all options in a simple config file which then calls Halvade with all provided options.</p>
<div class="section" id="required-options">
<h2>Required options<a class="headerlink" href="#required-options" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-B <var>STR</var></span></kbd></td>
<td>Binary location. This string gives the location where bin.tar.gz is located.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-D <var>STR</var></span></kbd></td>
<td>DBSNP file location. This string gives the absolute filename of the DBSNP file, this file needs
to be compatible with the reference FASTA file provided by the –R option.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-I <var>STR</var></span></kbd></td>
<td>Input directory. The string points to the directory containing the preprocessed input
on the used file system.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-O <var>STR</var></span></kbd></td>
<td>Output directory. This string points to the directory which will contain the output vcf files
of Halvade.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-R <var>STR</var></span></kbd></td>
<td>Reference Location. This string gives the prefix (without .fasta) of the absolute filename of
the reference in FASTA format. The corresponding index files, built with BWA, need to be in
this directory having the same prefix as the reference FASTA file. The STAR genome index is
located in different folder.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-m</span>, <span class="option">--mem <var>&lt;INT&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Memory size. This gives the total memory each node in the cluster has. The memory size is given in GB.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-n</span>, <span class="option">--nodes <var>INT</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Node count. This gives the total number of nodes in the local cluster or the number of nodes you want to request when using Amazon EMR. Amazon AWS has a limit of 20 nodes unless the nodes are reserved for an extended period of time.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-c</span>, <span class="option">--vcores <var>INT</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Vcores count. This gives the number of cores that can be used per node on the cluster (to enable simultaneous multithreading use the -smt option).</td></tr>
</tbody>
</table>
</div>
<div class="section" id="optional-options">
<h2>Optional options<a class="headerlink" href="#optional-options" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="halvade-uploader-options">
<h1>Halvade Uploader Options<a class="headerlink" href="#halvade-uploader-options" title="Permalink to this headline">¶</a></h1>
<p>The Halvade Uploader will preprocesses the fastq files, this will interleave the paired-end reads and split the files in pieces of 60MB (by default, can be changed with the <strong>-size</strong> option). The Halvade Uploader will automatically upload these preprocessed files to the given output directory on either local scratch, GPFS, HDFS, Amazon S3 or any other distirubted file system. The prefix for the used distributed file system is the same as with the Halvade tool.</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Hadoop jar HalvadeUploaderWithLibs.jar –1 /dir/to/input.manifest -O /halvade/out/ –t 8
Hadoop jar HalvadeUploaderWithLibs.jar –1 /dir/to/reads1.fastq -2 /dir/to/reads2.fastq -O /halvade/out/ –t 8
Hadoop jar HalvadeUploaderWithLibs.jar –1 /dir/to/input.manifest -O s3://bucketname/halvade/out/ -profile /dir/to/credentials.txt –t 8
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<p>For better performance it is advised to increase the Java heap memory for the hadoop command, e.g. for 32GB:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">HADOOP_HEAPSIZE</span><span class="o">=</span>32768
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h2>Required options<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-1 <var>STR</var></span></kbd></td>
<td>Manifest/Input file. This string gives the absolute path of the Manifest file or the first input fastq file. This manifest file contains a line per file pair, separated by a tab: <em>/dir/to/fastq1.fastq /dir/to/fastq2.fastq</em>. If this is equal to &#8216;-&#8216; then the fastq reads are read from standard input.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-O <var>STR</var></span></kbd></td>
<td>Output directory. This string gives the directory where the output files will be put.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h2>Optional options<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-2 <var>STR</var></span></kbd></td>
<td>Input file 2. This gives the second pair of paired-end reads in a fastq file.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--dfs</span></kbd></td>
<td>Input on a DFS. This enables reading data from a distributed filesystem like HDFS and amazon S3.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-i</span></kbd></td>
<td>Interleaved. This is used when one fastq input file is given, the input file is assumed to have
both pairs of paired-end reads and the reads are interleaved.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--sse</span></kbd></td>
<td>Server side encryption. Turns on Server side encryption (SSE) when transferring the data to the
Amazon S3 storage.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--lz4</span></kbd></td>
<td>Lz4 compression. This enables lz4 compression, this is faster than gzip but will require more
disk space. The lz4 compression library needs to be enabled in the Hadoop distribution for this
to work.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-p</span>, <span class="option">--profile <var>STR</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>AWS profile. Gives the path of the credentials file used to acces S3. This should be configured
when installing the Amazon EMR command line interface. By default this is <code class="docutils literal"><span class="pre">~/.aws/credentials</span></code>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s</span>, <span class="option">--size <var>INT</var></span></kbd></td>
<td>Size. This sets the maximum file size (in bytes) of each interleaved file [60MB].</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--snappy</span></kbd></td>
<td>Snappy compression. This enables snappy compression, this is faster than gzip but will require
more disk space. Snappy requires less disk space than lz4 and is comparable in compression speed.
The snappy compression library needs to be enabled in the Hadoop distribution for this to work.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t <var>INT</var></span></kbd></td>
<td>Threads. This sets the number of threads used to preprocess the input data.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Halvade Options</a><ul>
<li><a class="reference internal" href="#required-options">Required options</a></li>
<li><a class="reference internal" href="#optional-options">Optional options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#halvade-uploader-options">Halvade Uploader Options</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#id1">Required options</a></li>
<li><a class="reference internal" href="#id2">Optional options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/contents/options.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">halvade 1.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Dries Decap.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>